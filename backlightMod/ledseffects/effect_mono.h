#pragma once
#include "generic_effect.h"

unsigned char effect_mono_data[] = {
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
		0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};


struct effect_mono : public generic_effect
{
	effect_mono()
	{
		effectID = 2;
		speed = 1000;
		framelen = 66;
		nbframes = 1;
		data = effect_mono_data;
	}

	void setColor(int& r, int& g, int& b)
	{
		UINT32 color = 0;
		for (int i = 0; i < framelen; i+=3)
		{
			color = (byte)r << 16 | (byte)g << 8 | (byte)b;
			memcpy(&data[i], &color, 3);
		}
	}
};